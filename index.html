<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ch√° de Cozinha da Samuel & Nicoly</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #fff7f2;
      color: #5a4a42;
      position: relative;
      overflow-x: hidden;
    }

    .decoration {
      position: fixed;
      opacity: 0.1;
      z-index: -1;
      font-size: 2rem;
      color: #d37d6b;
      animation: float 6s ease-in-out infinite;
    }

    .decoration:nth-child(1) { top: 10%; left: 5%; animation-delay: 0s; }
    .decoration:nth-child(2) { top: 20%; right: 8%; animation-delay: 1s; }
    .decoration:nth-child(3) { top: 40%; left: 3%; animation-delay: 2s; }
    .decoration:nth-child(4) { top: 60%; right: 5%; animation-delay: 3s; }
    .decoration:nth-child(5) { top: 80%; left: 7%; animation-delay: 4s; }
    .decoration:nth-child(6) { bottom: 10%; right: 10%; animation-delay: 5s; }

    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(5deg); }
    }

    header {
      background: linear-gradient(135deg, #f9c7c0, #ffe3c8, #f4d4c7);
      text-align: center;
      padding: 60px 20px;
      background-image: url('https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?auto=format&fit=crop&w=1500&q=80');
      background-size: cover;
      background-position: center;
      color: white;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
      position: relative;
    }

    header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.3);
      z-index: 1;
    }

    header h1, header p { position: relative; z-index: 2; }
    header h1 { font-size: 3rem; margin-bottom: 10px; text-shadow: 3px 3px 6px rgba(0,0,0,0.8); }
    header p { font-size: 1.2rem; }

    section {
      max-width: 1100px;
      margin: 40px auto;
      padding: 30px;
      background: #ffffff;
      border-radius: 20px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
      border: 2px solid #f9c7c0;
      position: relative;
    }

    section::before {
      content: 'üç¥';
      position: absolute;
      top: -15px;
      left: 30px;
      background: white;
      padding: 5px 10px;
      border-radius: 50%;
      font-size: 1.5rem;
    }

    h2 {
      text-align: center;
      color: #d37d6b;
      margin-bottom: 30px;
      font-size: 2rem;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
    }

    .presentes {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 25px;
      padding: 10px;
    }

    .item {
      background: linear-gradient(135deg, #fff6f4, #ffeee8);
      border-radius: 16px;
      padding: 20px;
      text-align: center;
      box-shadow: 0 6px 20px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
      border: 2px solid transparent;
      position: relative;
    }

    .item:hover { 
      transform: translateY(-5px) scale(1.02); 
      box-shadow: 0 12px 30px rgba(0,0,0,0.15);
      border-color: #f9c7c0;
    }

    .item-icon {
      width: 40px;
      height: 40px;
      margin: 0 auto 15px;
      background: #f9c7c0;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      color: white;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
    }

    .item h3 { margin: 15px 0; color: #5a4a42; font-size: 1.1rem; font-weight: 600; }
    .reservado { opacity: 0.6; text-decoration: line-through; background: linear-gradient(135deg, #f0f0f0, #e8e8e8); }
    .reservado .item-icon { background: #999; }
    .reservado-info { color: #28a745; font-weight: bold; margin: 10px 0; font-size: 0.9rem; }

    input[type="text"] {
      padding: 10px;
      width: 85%;
      margin-bottom: 10px;
      border: 2px solid #f9c7c0;
      border-radius: 8px;
      font-size: 0.9rem;
      transition: border-color 0.3s;
    }

    input[type="text"]:focus {
      outline: none;
      border-color: #d37d6b;
      box-shadow: 0 0 0 3px rgba(211, 125, 107, 0.1);
    }

    button {
      padding: 10px 20px;
      cursor: pointer;
      border: none;
      border-radius: 8px;
      background: linear-gradient(135deg, #d37d6b, #b96655);
      color: white;
      font-weight: bold;
      font-size: 0.9rem;
      transition: all 0.3s;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
      margin: 2px;
    }

    button:hover { 
      background: linear-gradient(135deg, #b96655, #a55544);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    .cancelar-btn {
      background: linear-gradient(135deg, #dc3545, #c82333);
      font-size: 0.8rem;
      padding: 5px 10px;
    }

    .cancelar-btn:hover {
      background: linear-gradient(135deg, #c82333, #b21e2f);
    }

    .event-details {
      background: linear-gradient(135deg, #f9c7c0, #ffe3c8);
      padding: 30px;
      border-radius: 16px;
      text-align: center;
      font-size: 1.1rem;
      line-height: 1.8;
      color: #5a4a42;
      box-shadow: inset 0 2px 10px rgba(0,0,0,0.1);
    }

    .event-details p { margin: 0; }

    footer {
      text-align: center;
      padding: 30px;
      color: #8d7a70;
      font-size: 1rem;
      background: linear-gradient(135deg, #f9c7c0, #ffe3c8);
      margin-top: 40px;
    }

    @media (max-width: 768px) {
      header h1 { font-size: 2rem; }
      .presentes { grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); }
      section { margin: 20px 10px; padding: 20px; }
    }
  </style>
</head>
<body>

  <div class="decoration">ü•Ñ</div>
  <div class="decoration">üç¥</div>
  <div class="decoration">üî™</div>
  <div class="decoration">ü•¢</div>
  <div class="decoration">üçΩÔ∏è</div>
  <div class="decoration">ü•Ñ</div>

  <header>
    <h1>Ch√° de Cozinha da Samuel & Nicoly</h1>
    <p>Venha celebrar este momento especial com muito carinho!</p>
  </header>

  <section>
    <h2>Lista de Presentes</h2>
    <div id="lista" class="presentes"></div>
  </section>

  <section>
    <h2>Detalhes da Festa</h2>
    <div class="event-details">
      <p>
        üìÖ <strong>Data:</strong> 25 de outubro de 2025 <br>
        üïí <strong>Hor√°rio:</strong> 16h 30 min <br>
        üìç <strong>Local:</strong> Condom√≠nio Girass√≥is <br>
        Rua Gisele Martins, 317 <br>
        Jd. Morumbi
      </p>
    </div>
  </section>

  <footer>
    Feito com ‚ù§Ô∏è para um dia inesquec√≠vel!
  </footer>

<script>
const SHEET_URL = "https://script.google.com/macros/s/AKfycbyI_gicr6pd2G00hVDSegju5rxhLy5TKqeFitm927rA/dev"; // Substitua pela URL do Apps Script

let presentes = [];

async function carregarPresentes() {
  try {
    const response = await fetch(SHEET_URL);
    presentes = await response.json();
    atualizarLista();
  } catch (err) {
    console.error("Erro ao carregar presentes:", err);
    alert("Erro ao carregar a lista de presentes.");
  }
}

async function reservar(i) {
  const nome = document.getElementById(`nome-${i}`).value.trim();
  if (!nome) { alert("Digite seu nome para reservar."); return; }

  try {
    const data = { item: presentes[i].nome, nome };
    const response = await fetch(SHEET_URL, {
      method: "POST",
      body: JSON.stringify(data)
    });
    const result = await response.json();
    if (result.status === "ok") {
      presentes[i].reservadoPor = nome;
      atualizarLista();
      alert(`Presente "${presentes[i].nome}" reservado com sucesso para ${nome}!`);
    }
  } catch(err) {
    console.error("Erro ao reservar:", err);
    alert("Erro ao reservar o item.");
  }
}

async function cancelarReserva(i) {
  const confirmacao = confirm(`Deseja cancelar a reserva de "${presentes[i].nome}" feita por ${presentes[i].reservadoPor}?`);
  if (!confirmacao) return;

  try {
    const data = { item: presentes[i].nome, nome: "" };
    const response = await fetch(SHEET_URL, {
      method: "POST",
      body: JSON.stringify(data)
    });
    const result = await response.json();
    if (result.status === "ok") {
      presentes[i].reservadoPor = "";
      atualizarLista();
    }
  } catch(err) {
    console.error("Erro ao cancelar reserva:", err);
    alert("Erro ao cancelar a reserva.");
  }
}

function atualizarLista() {
  const container = document.getElementById("lista");
  container.innerHTML = "";

  presentes.forEach((item, i) => {
    const div = document.createElement("div");
    div.className = "item" + (item.reservadoPor ? " reservado" : "");

    if (item.reservadoPor) {
      div.innerHTML = `
        <div class="item-icon">${item.icone}</div>
        <h3>${item.nome}</h3>
        <div class="reservado-info">‚úì Reservado por: ${item.reservadoPor}</div>
        <button class="cancelar-btn" onclick="cancelarReserva(${i})">Cancelar Reserva</button>
      `;
    } else {
      div.innerHTML = `
        <div class="item-icon">${item.icone}</div>
        <h3>${item.nome}</h3>
        <input type="text" id="nome-${i}" placeholder="Digite seu nome">
        <button onclick="reservar(${i})">Reservar</button>
      `;
    }

    container.appendChild(div);
  });
}

// Inicializa
carregarPresentes();
</script>

</body>
</html>

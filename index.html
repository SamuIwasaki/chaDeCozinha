<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ch√° de Cozinha da Samuel & Nicoly</title>
<style>
body {
  margin: 0;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: #fff7f2;
  color: #5a4a42;
}
header { text-align:center; padding:50px 20px; background-image:url('https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?auto=format&fit=crop&w=1500&q=80'); background-size:cover; color:white; }
header h1 { font-size:2.5rem; text-shadow: 2px2px4px rgba(0,0,0,0.7);}
header p { font-size:1.2rem; text-shadow:1px1px2px rgba(0,0,0,0.5);}
section { max-width:900px; margin:20px auto; padding:20px; background:white; border-radius:15px; box-shadow:0 5px 15px rgba(0,0,0,0.1);}
.presentes { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:15px; }
.item { background:#fff6f4; border-radius:10px; padding:15px; text-align:center; border:2px solid transparent; transition:0.3s; }
.item:hover { transform:translateY(-3px); border-color:#f9c7c0; }
.item-icon { font-size:1.5rem; margin-bottom:10px; }
.reservado { opacity:0.6; text-decoration:line-through; }
input[type=text] { width:80%; padding:8px; margin-bottom:5px; border:2px solid #f9c7c0; border-radius:6px;}
button { padding:8px 15px; border:none; border-radius:6px; background:#d37d6b; color:white; cursor:pointer;}
button:hover { background:#b96655;}
</style>
</head>
<body>

<header>
<h1>Ch√° de Cozinha da Samuel & Nicoly</h1>
<p>Venha celebrar este momento especial com muito carinho!</p>
</header>

<section>
<h2>Lista de Presentes</h2>
<div id="lista" class="presentes"></div>
</section>

<section>
<h2>Detalhes da Festa</h2>
<p>üìÖ Data: 25 de outubro de 2025 <br>üïí Hor√°rio: 16h30 <br>üìç Local: Condom√≠nio Girass√≥is, Rua Gisele Martins, 317, Jd. Morumbi</p>
</section>

<script>
const presentes = [
  { nome: "Escorredor de macarr√£o", icone: "üçù" },
  { nome: "Escorredor de arroz", icone: "üçö" },
  { nome: "T√°bua de madeira", icone: "ü™µ" },
  { nome: "T√°bua de pl√°stico", icone: "üìã" },
  { nome: "T√°bua de vidro", icone: "üî∑" },
  { nome: "Escorredor de lou√ßa", icone: "üçΩÔ∏è" },
  { nome: "Kit pia (lixeira, porta detergente)", icone: "üßΩ" },
  { nome: "Rodinho de pia", icone: "üßπ" }
  // Adicione o restante da lista
];

let reservas = Array(presentes.length).fill(null);

// Substitua aqui pela URL do seu Web App publicado
const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbyB0UvaidvVr5j8NT5HjP7QkUHE7ISIXaSAHIFMmtLvHLYAUULJLTyt8IeBsCrt-RhV/exec";

// Atualiza a lista visual
function atualizarLista() {
  const container = document.getElementById("lista");
  container.innerHTML = "";
  presentes.forEach((item,i)=>{
    const div = document.createElement("div");
    div.className = "item" + (reservas[i] ? " reservado" : "");
    div.innerHTML = `
      <div class="item-icon">${item.icone}</div>
      <h3>${item.nome}</h3>
      ${reservas[i] ? `<p><strong>Reservado por:</strong> ${reservas[i]}</p>` :
      `<input type="text" id="nome-${i}" placeholder="Digite seu nome">
       <button onclick="reservar(${i})">Reservar</button>`}
    `;
    container.appendChild(div);
  });
}

// Envia reserva para Google Sheets
function reservar(i){
  const nome = document.getElementById(`nome-${i}`).value.trim();
  if(!nome){ alert("Digite seu nome"); return; }

  fetch(WEB_APP_URL,{
    method:"POST",
    body: JSON.stringify({ item: presentes[i].nome, nome: nome }),
    headers: { "Content-Type":"application/json" }
  })
  .then(r=>r.json())
  .then(data=>{
    if(data.status==="ok"){
      reservas[i]=nome;
      atualizarLista();
    }else{
      alert("Erro ao salvar: "+data.message);
    }
  })
  .catch(err=>{
    alert("Erro ao conectar ao servidor. Verifique a URL do Web App, permiss√µes e se est√° rodando em HTTPS.\n"+err);
  });
}

atualizarLista();
</script>

</body>
</html>
